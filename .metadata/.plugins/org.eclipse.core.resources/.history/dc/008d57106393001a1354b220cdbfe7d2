package TC294K;

import java.io.IOException;

import org.testng.Assert;
import cucumber.api.DataTable;
import cucumber.api.java.After;
import cucumber.api.java.Before;
import cucumber.api.java.en.And;
import cucumber.api.java.en.Given;
import cucumber.api.java.en.Then;
import cucumber.api.java.en.When;
import utilPackage.baseclass;

public class TC294 extends baseclass {
	
	public TC294() throws IOException 
	{
		super();
	}
	
	@Before()
	public void setup() throws IOException
	{
		baseclass.initialization();
	}
	
	boolean emp;
	@Given("^User should be registered$")
	public void user_should_be_registered() throws Throwable {


	}

	@When("^title of login page is Home$")
	public void title_of_login_page_is_Home() throws Throwable {
		String Title = driver.getTitle();
		Assert.assertEquals(Title, "HireXpert");
	}

	@And("^user enters valid credentials$")
	public void user_enters_valid_credentials() throws Throwable {
//		loginpage.loginInAppWithEmp();
		loginpage.loginInAppWithAgy();
		loginpage.identifyUser();
        this.emp=loginpage.b;
		System.out.println(emp);
	}

	@And("^Add the task for team member and agency/employer$")
	public void add_the_task_for_team_member_and_agency_employer(DataTable credentials) throws InterruptedException 
	{
		
		if(emp==true)
		{
			taskpage.enterAlldetails(credentials);
		}
		else
		{
			taskpage.enterAlldetailsForAgy(credentials);
		}
	}

	@And("^Click on My Task$")
	public void click_on_My_Task() throws Throwable {

		taskpage.ClickOnMyTask();
	}

	@And("^Click on Reload Task button$")
	public void click_on_Reload_Task_button() throws Throwable {
	
		taskpage.reloadtask();
	}

	@And("^Click on Team Task$")
	public void click_on_Team_Task() throws Throwable {
		taskpage.ClickOnTeamTask();
	}
	@And("^Again Click on Reload Task button$")
	public void Again_click_on_Reload_Task_button() {
		taskpage.reloadtask();
		
	}
	
	@After()
	public void tearDown()
	{
		driver.quit();
	}
}
